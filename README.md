# DL-finalproject-3EO-Mart
### "No Barcode! Just Scan!"
딥러닝 모델을 활용한 객체 탐지 편의점
<br></br>


## :soccer: Trouble Shooting :running:
#### 1. 데이터 찾기
1)마트에서 판매하는 품목들의 데이터를 수집하고자 공공데이터, AI Hub, kaggle 등 다양한 사이트를 방문했지만 우리 팀의 조건에 맞는 데이터(1. 모델에게 학습시킬 사진이 다방면으로 찍혀있는 데이터 2. 마트에서 흔히, 대표적으로 볼 수 있는 품목의 데이터 3. 한 품목당 30장 이상의 화질이 좋은 데이터)를 찾을 수 없었고 있다고 해도 78GB나 되는 양의 그것도 한쪽 방면으로만 찍혀있는 데이터였기에 사용할 수 없었다. 외국 마트 사이트(Amazon)의 경우 우리나라에서 파는 품목과 맞는 데이터가 있지 않았고 미국 본사에서 허가를 받아야만 사용할 수 있는 데이터였다. </br>
2)직접 우리나라 마트에서 살 수 있는 품목들의 사진을 촬영해 학습 데이터로 활용했다.
#### 2. roboflow - tfrecord
1)tfrecord가 필요한 이유? - 
tfrecord 파일은 텐서플로우 학습 데이터를 효율적으로 저장하기 위한 포맷, tfrecord 파일이 없으면 CNN으로 학습 시 이미지와 라벨을 별도로 읽어와야 하는데 여기서 성능 저하가 발생할 수 있으며 코드도 복잡해진다. </br>
1-1)pytorch가 아닌 tensorflow 기반의 데이터셋을 쓰고 싶어 roboflow에서 tensorflow tfrecord zip파일로 다운받았으나 이미지와 라벨링이 되어있는 상태라 사용법을 헤맸고, 파일을 불러오는 경로도 맞지 않는 등 시간을 소요했다. </br>
1-2)roboflow의 문제 - 데이터를 라벨링하거나 증강시키는 역할과 roboflow안에서의 모델로 학습시켜 단편적인 결과를 보는 데에는 사용하기 편리했으나 직접 층을 쌓아 모델을 만들어야 하는 우리 팀에서의 목표(CNN의 경우)와 서로 방향이 달라 어려움이 있었다.

#### 3. 모델 선정
1)CNN - 제한된 대상의 수에 대해 객체 탐지 회귀와 분류 문제로 모델링이 가능
- 데이터를 직접 학습하고 이미지를 인식하기 위해 찾은 패턴을 사용해 이미지를 분류함 -> CNN 기술을 활용하면 제한된 객체 탐지에 대한 회귀와 분류가 가능
2)Tensorflow 2.0 Object Detection - EfficientDet
- -Efficientnet을 Backbone으로 활용한 알고리즘
-전통적으로 object detection을 수행하기 위한 모델 구조는 ROI를 제안하는 부분의 유무에 따라 one-stage와 two-stage로 구분, 일반적으로 one-stage가 학습 및 추론 속도가 빠르고 간단한 구조를 가짐 -> two-stage는 복잡한 구조를 가지지만 높은 정확성 및 AP를 가지는 장점 존재, EfficientDet은 ROI Proposal 단계가 없으면서도 모델의 구조 최적화를 통해 높은 성능을 보여줌
-연산량이 늘어날수록 AI의 성능이 올라감 -> 연산량이 늘어날수록 비싼 GPU를 써서 속도를 올려줘야 한다는 단점 존재
-연산량을 늘릴 때는 얼마나 많은 layer로 (depth), 얼마나 많은 픽셀을 (resolution), 얼마나 많은 필터로 (filter) 이미지를 훑을지 결정해야 하는데 이런 최적의 조합을 찾아주는 AutoML을 사용해 찾는 Compound Scaling 방식을 제안함
-기존 CNN의 경우 어떤 물품인지 탐지와 분류는 가능하나 탐지할 수 있는 갯수가 한정적임
3)YOLOv5 - CNN으로 층(Layer)을 쌓아 만든 모델
-빠른 처리가 가능하고 정확도 역시 준수한 성능으로 실시간 탐지를 요구하는 목표에 적합
-'You Only Look Once' : 단 하나의 네트워크(수정)가 한 번에 오브젝트의 위치 찾기(영역 추출에 대한 좌표)와 클래스 분류(이미지 피처)를 학습하여 결과를 도출
#### 4. 모델 해석
